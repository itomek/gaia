// Copyright(C) 2025-2026 Advanced Micro Devices, Inc. All rights reserved.
// SPDX-License-Identifier: MIT
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Blender Agent Debug",
            "type": "debugpy",
            "request": "launch",
            "module": "src.gaia.agents.Blender.app",
            "args": ["--debug-prompts", "--example", "2"],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false,
        },
        {
            "name": "UI Debug",
            "type": "debugpy",
            "request": "launch",
            "module": "src.gaia.interface.widget",
            "args": [],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false,
        },
        {
            "name": "Chat Agent Debug - Interactive",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.cli",
            "args": ["chat"],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}/src"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false,
            "purpose": ["Debug chat agent with interactive mode"]
        },
        {
            "name": "Chat Agent Debug - Model Selection",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.agents.chat.app",
            "args": ["--query", "hi"],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}/src"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": true,
            "purpose": ["Stops at entry to set breakpoints", "Use to debug model selection", "Set breakpoint in chat/agent.py line 222 (model_id variable)"]
        },
        {
            "name": "Chat Agent Debug - With Query",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.cli",
            "args": ["chat", "--query", "what files are indexed?"],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}/src"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false,
            "purpose": ["Test tool invocation with single query"]
        },
        {
            "name": "Chat Agent Debug - Index + Query",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.cli",
            "args": [
                "chat",
                "--index", "C:\\Users\\14255\\Work\\gaia\\data\\pdf\\Oil-and-Gas-Activity-Operations-Manual-1-10.pdf",
                "--query", "what is this document about?",
                "--debug"
            ],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}/src"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false,
            "purpose": ["Test index + query one-shot", "Debug empty response issue"]
        },
        {
            "name": "Talk Debug",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.cli",
            "args": ["talk"],
            "cwd": "${workspaceFolder}/src/gaia",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false,
        },
        {
            "name": "GAIA CLI Debug",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.cli",
            "args": "${input:cliArgs}",
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false,
        },
        {
            "name": "CLI Client Debug",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.cli",
            "args": [
                "chat"
            ],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false,
        },
        {
            "name": "MCP Bridge Debug",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.cli",
            "args": [
                "mcp",
                "start",
                "--debug"
            ],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false,
        },
        {
            "name": "Jira App Debug",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.cli",
            "args": [
                "jira",
                "show me my projects"
            ],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false,
        },
        {
            "name": "Code Agent Debug (CLI)",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.cli",
            "args": [
                "code",
                "${input:codeAgentPrompt}",
                "--debug"
            ],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false
        },
        {
            "name": "Code Agent Debug (API)",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.cli",
            "args": [
                "code",
                "${input:codeAgentPrompt}",
                "--debug",
                "--use-api"
            ],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}",
                "GAIA_API_URL": "${input:apiUrl}"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false
        },
        {
            "name": "GAIA Pytest Debug",
            "type": "debugpy",
            "request": "launch",
            "module": "pytest",
            "args": [
                "tests/test_gaia.py",
                "-v",
                "-s",
                "-k",
                "test_model_sweep[llama3.2:1b-Who"
            ],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}",
                "PYTEST_DISABLE_BENCHMARK": "1",
                "PYTHONBREAKPOINT": "debugpy.breakpoint",
                "PYTHONDEBUG": "1"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false
        },
        {
            "name": "API Server Debug",
            "type": "debugpy",
            "request": "launch",
            "module": "gaia.cli",
            "args": [
                "api",
                "start"
            ],
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}",
                "GAIA_API_URL": "${input:apiServerUrl}"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true,
            "stopOnEntry": false,
        },
        {
            "name": "JIRA Dashboard - Electron",
            "type": "node",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "runtimeExecutable": "npm",
            "runtimeArgs": ["run", "app:jira:run:electron"],
            "console": "integratedTerminal",
            "env": {
                "GAIA_APP_MODE": "development"
            }
        },
        {
            "name": "GAIA VSCode Extension (API)",
            "type": "extensionHost",
            "request": "launch",
            "args": [
                "--extensionDevelopmentPath=${workspaceFolder}/src/vscode/gaia",
                "--user-data-dir=${workspaceFolder}/.vscode-test-user-data"
            ],
            "outFiles": [
                "${workspaceFolder}/src/vscode/gaia/out/**/*.js"
            ],
            "preLaunchTask": "Compile GAIA Code Extension",
            "env": {
                "GAIA_API_URL": "${input:apiUrl}",
                "VSCODE_DEBUG_MODE": "true"
            }
        }
    ],
    "inputs": [
        {
            "id": "apiServerUrl",
            "type": "promptString",
            "description": "GAIA API Server URL",
            "default": "http://localhost:8080"
        },
        {
            "id": "apiUrl",
            "type": "promptString",
            "description": "GAIA API Server URL",
            "default": "http://localhost:8080"
        },
        {
            "id": "mcpUrl",
            "type": "promptString",
            "description": "GAIA MCP Server URL",
            "default": "http://localhost:8765"
        },
        {
            "id": "codeAgentPrompt",
            "type": "promptString",
            "description": "Code Agent task/prompt",
            "default": "Create a simple calculator function"
        },
        {
            "id": "cliArgs",
            "type": "promptString",
            "description": "CLI arguments (e.g., 'api start', 'chat --debug', 'mcp start')",
            "default": "api start"
        }
    ]
}